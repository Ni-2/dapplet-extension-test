# Solution Architecture

## Glossary

**Dapplet Extension** - 

**Background** - 

## Dapplet Extension

Диаграмма ниже описывает структуру расширения и его внешнее окружение.

![](images/dapplet-extension.png)

Общая схема работы:

1. Background загружает модули из децентрализованного хранилища.
2. Background кэширует модули во внутреннее хранилище браузера и читает настройки.
3. Пользователь включает необходимые ему Features, доступные для текущей страницы, через Popup.
4. Inpage при загрузке контекстной страницы получает тексты скриптов модулей от Background
5. Inpage в ходе исполнения модулей парсит из веб-страницы контекстную информацию и вставляет в страницу кнопки (widgets).
6. При необходимости из внешнего API (например, через WebSocket или HTTP) поставляются дополнительные данные для расширения контекста.

## Injectable Modules
![](images/typescript-examples.png) 